# CHECKLIST_[用途].md

**检查清单类型**: 环境 / 生产 / 验收 / 安全  
**适用阶段**: 开发 / 测试 / 上线前 / 运维  
**最后更新**: YYYY-MM-DD

---

## 📋 检查清单概览

本检查清单用于确保 [具体用途说明]。

**总体要求**:
- 所有标记为 🔴 P0 的项目必须 100% 完成
- 标记为 🟡 P1 的项目建议完成
- 标记为 🟢 P2 的项目可选

---

## 🔴 P0 必检项（必须100%通过）

### 1. 环境配置

- [ ] **1.1** 环境变量已配置
  - [ ] SECRET_KEY 已生成且不同于默认值
  - [ ] DATABASE_URL 已正确配置
  - [ ] REDIS_URL 已正确配置
  - [ ] 所有 API 密钥已配置（Auth0, Stripe等）

**验证方法**:
```bash
python backend/check_env.py
```

**预期结果**: 所有检查项通过，无错误提示

---

### 2. 数据库检查

- [ ] **2.1** 数据库连接正常
- [ ] **2.2** 所有迁移已执行
- [ ] **2.3** RLS 策略已启用
- [ ] **2.4** 索引已创建

**验证方法**:
```bash
python backend/check_db_schema.py
```

**预期结果**: 
```
✅ Database connection: OK
✅ Migrations: 23/23 applied
✅ RLS enabled: 8/8 tables
✅ Indexes: 45/45 created
```

---

### 3. 安全检查

- [ ] **3.1** HTTPS 已启用（生产环境）
- [ ] **3.2** CSP 无 unsafe-inline（生产环境）
- [ ] **3.3** CSRF 保护已启用
- [ ] **3.4** RLS 强制启用

**验证方法**:
```bash
python scripts/check_security.py --env production
```

---

## 🟡 P1 重要项（强烈建议完成）

### 4. 功能测试

- [ ] **4.1** 所有 API 端点返回正确状态码
- [ ] **4.2** 认证流程正常（Auth0 + SIWE）
- [ ] **4.3** 支付流程正常（Stripe）
- [ ] **4.4** 订单创建和取消正常

**验证方法**:
```bash
pytest backend/tests/test_api.py -v
```

---

### 5. 性能检查

- [ ] **5.1** 响应时间 < 500ms（P95）
- [ ] **5.2** 数据库查询优化（N+1 已解决）
- [ ] **5.3** Redis 缓存已启用
- [ ] **5.4** 静态文件已压缩

**验证方法**:
```bash
python scripts/performance_test.py
```

---

## 🟢 P2 可选项（建议完成，时间充裕时）

### 6. 监控和日志

- [ ] **6.1** 日志级别正确配置
- [ ] **6.2** 错误追踪已配置（Sentry）
- [ ] **6.3** 性能监控已配置
- [ ] **6.4** 告警规则已设置

---

### 7. 文档完整性

- [ ] **7.1** README.md 已更新
- [ ] **7.2** API 文档已生成
- [ ] **7.3** 部署文档已完善
- [ ] **7.4** 运维手册已准备

---

## 📊 检查结果汇总

完成检查后填写：

| 类别 | 检查项数 | 通过数 | 通过率 | 状态 |
|------|---------|--------|--------|------|
| 🔴 P0 必检项 | 0 | 0 | 0% | ❌ / ✅ |
| 🟡 P1 重要项 | 0 | 0 | 0% | ⚠️ / ✅ |
| 🟢 P2 可选项 | 0 | 0 | 0% | - |
| **总计** | 0 | 0 | 0% | - |

**结论**: 
- [ ] ✅ 通过，可以进入下一阶段
- [ ] ⚠️ 部分通过，需要修复后重新检查
- [ ] ❌ 未通过，必须解决所有P0问题

---

## 📝 检查记录

**检查人**: 姓名  
**检查日期**: YYYY-MM-DD  
**环境**: 开发 / 测试 / 生产  
**版本**: v1.0.0

**备注**:
（记录任何特殊情况或问题）

---

## 📞 联系方式

如遇问题，请联系：[负责人姓名/团队]

